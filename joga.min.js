/*! (c) 2014 Nicolas Font http://jogajs.com (MIT) */
!function(){var t,e,i;!function(n){function s(t,e){return j.call(t,e)}function r(t,e){var i,n,s,r,o,u,a,l,h,p,c,f=e&&e.split("/"),d=m.map,y=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(f=f.slice(0,f.length-1),t=t.split("/"),o=t.length-1,m.nodeIdCompat&&P.test(t[o])&&(t[o]=t[o].replace(P,"")),t=f.concat(t),h=0;h<t.length;h+=1)if(c=t[h],"."===c)t.splice(h,1),h-=1;else if(".."===c){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||y)&&d){for(i=t.split("/"),h=i.length;h>0;h-=1){if(n=i.slice(0,h).join("/"),f)for(p=f.length;p>0;p-=1)if(s=d[f.slice(0,p).join("/")],s&&(s=s[n])){r=s,u=h;break}if(r)break;!a&&y&&y[n]&&(a=y[n],l=h)}!r&&a&&(r=a,u=l),r&&(i.splice(0,u,r),t=i.join("/"))}return t}function o(t,e){return function(){return f.apply(n,x.call(arguments,0).concat([t,e]))}}function u(t){return function(e){return r(e,t)}}function a(t){return function(e){g[t]=e}}function l(t){if(s(v,t)){var e=v[t];delete v[t],b[t]=!0,c.apply(n,e)}if(!s(g,t)&&!s(b,t))throw new Error("No "+t);return g[t]}function h(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function p(t){return function(){return m&&m.config&&m.config[t]||{}}}var c,f,d,y,g={},v={},m={},b={},j=Object.prototype.hasOwnProperty,x=[].slice,P=/\.js$/;d=function(t,e){var i,n=h(t),s=n[0];return t=n[1],s&&(s=r(s,e),i=l(s)),s?t=i&&i.normalize?i.normalize(t,u(e)):r(t,e):(t=r(t,e),n=h(t),s=n[0],t=n[1],s&&(i=l(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:i}},y={require:function(t){return o(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},c=function(t,e,i,r){var u,h,p,c,f,m,j=[],x=typeof i;if(r=r||t,"undefined"===x||"function"===x){for(e=!e.length&&i.length?["require","exports","module"]:e,f=0;f<e.length;f+=1)if(c=d(e[f],r),h=c.f,"require"===h)j[f]=y.require(t);else if("exports"===h)j[f]=y.exports(t),m=!0;else if("module"===h)u=j[f]=y.module(t);else if(s(g,h)||s(v,h)||s(b,h))j[f]=l(h);else{if(!c.p)throw new Error(t+" missing "+h);c.p.load(c.n,o(r,!0),a(h),{}),j[f]=g[h]}p=i?i.apply(g[t],j):void 0,t&&(u&&u.exports!==n&&u.exports!==g[t]?g[t]=u.exports:p===n&&m||(g[t]=p))}else t&&(g[t]=i)},t=e=f=function(t,e,i,s,r){if("string"==typeof t)return y[t]?y[t](e):l(d(t,e).f);if(!t.splice){if(m=t,m.deps&&f(m.deps,m.callback),!e)return;e.splice?(t=e,e=i,i=null):t=n}return e=e||function(){},"function"==typeof i&&(i=s,s=r),s?c(n,t,e,i):setTimeout(function(){c(n,t,e,i)},4),f},f.config=function(t){return f(t)},t._defined=g,i=function(t,e,i){e.splice||(i=e,e=[]),s(g,t)||s(v,t)||(v[t]=[t,e,i])},i.amd={jQuery:!0}}(),i("../node_modules/almond/almond",function(){}),i("joga/dependencyTracker",[],function(){function t(){this.observers=[],this.push=function(t){return this.observers.push(t),this},this.pop=function(){return this.observers.pop(),this},this.notify=function(t){return this.observers.length>0&&this.observers[this.observers.length-1](t),this}}return new t}),i("joga/objectProperty",["joga/dependencyTracker"],function(t){function e(t){function e(t){return e.evaluate(t,this)}return e.evaluate=i,e.initialize=n,e.mixinTo=s,e.applySelf=r,e.subscribe=o,e.unsubscribe=u,e.notify=a,e.isNull=l,e.isNotNull=h,e.get=p,e.put=c,e.forEach=f,e.initialize(t),e}function i(e,i){return this.self=i,void 0===e?(t.notify(this),this.value):(this.value=e,this.notify(),this.self)}function n(t){this.value=null,this.observers=[],this.evaluate(t)}function s(t){var e;for(e in this)t[e]=this[e];return this}function r(t){return this.apply(this.self,t)}function o(t){return this.observers.push(t),this}function u(t){var e=this.observers.indexOf(t);return-1!==e&&this.observers.splice(e,1),this}function a(){var t,e=this.observers.slice(0);for(t=0;t<e.length;t++)e[t](this);return this}function l(){return null===this.applySelf()}function h(){return!this.isNull()}function p(t){return this.applySelf()[t]}function c(t,e){this.value[t]=e,this.notify()}function f(t){var e;for(e in this.applySelf())t.call(this.self,this.value[e],e)}return e}),i("joga/arrayProperty",["joga/objectProperty"],function(t){function e(e){function p(t){return p.evaluate(t,this)}return t().mixinTo(p),p.push=i,p.pop=n,p.remove=s,p.clear=r,p.shift=o,p.unshift=u,p.reverse=a,p.sort=l,p.forEach=h,p.initialize(e),p}function i(t){return this.value.push(t),this.notify(),this}function n(){var t=this.value.pop();return this.notify(),t}function s(t){for(var e=this.value.indexOf(t);-1!==e;)this.value.splice(e,1),e=this.value.indexOf(t);return this.notify(),this}function r(){return this.applySelf([[]]),this.notify(),this}function o(){var t=this.applySelf().shift();return this.notify(),t}function u(t){return this.applySelf().unshift(t),this.notify(),this}function a(){return this.applySelf().reverse(),this.notify(),this}function l(t){return this.applySelf().sort(t),this.notify(),this}function h(t){var e;if(this.applySelf().forEach)this.value.forEach(t.bind(this.self));else for(e=0;e<this.value.length;e++)t.call(this.self,this.value[e],e);return this}return e}),i("joga/booleanProperty",["joga/objectProperty"],function(t){function e(e){function n(t){return n.evaluate(t,this)}return t().mixinTo(n),n.toggle=i,n.initialize(e),n}function i(){return this.evaluate(!this.value),this}return e}),i("joga/computedProperty",["joga/objectProperty","joga/dependencyTracker"],function(t,e){function i(e){function i(t){return i.evaluate(t,this)}return t().mixinTo(i),i.evaluate=n,i.initialize=s,i.applyWrapped=r,i.initialize(e),i}function n(t,i){var n;if(this.self=i,void 0!==t)return this.value=t,this.self;for(n=0;n<this.dependencies.length;n++)this.dependencies[n].unsubscribe(this.notify);for(this.dependencies=[],this.wrapped=null,e.push(this.subscriber),this.value=this.computer.apply(this.self,arguments),e.pop(),n=0;n<this.dependencies.length;n++)this.dependencies[n].subscribe(this.notify);return e.notify(this),this.value}function s(e){t().initialize.call(this,null),this.computer=e,this.dependencies=[],this.notify=function(){var t,e=this.observers.slice(0);for(t=0;t<e.length;t++)e[t](this);return this.self}.bind(this),this.subscriber=function(t){-1===this.dependencies.indexOf(t)&&this.dependencies.push(t),this.wrapped=t}.bind(this),this.evaluate(e)}function r(t){return this.wrapped.apply(this.self,t),this.self}return i}),i("joga/bindings/ElementBinding",["joga/computedProperty"],function(t){function e(t,e){this.element=t,this.model=e}function i(){if(this.foreach.dataExpression&&this.do.dataExpression){var i=t(function(){var t,e=this.foreach.dataExpression.apply(this.model),i=[];for(t=0;t<e.length;t++)i.push(this.do.dataExpression.apply(e[t]));return i}.bind(this));this.foreach.update=function(){var t,n=i();for(e.removeChildNodes(this.element),t=0;t<n.length;t++)this.element.appendChild(n[t])}.bind(this),this.foreach.update(),i.subscribe(this.foreach.update)}}return e.removeChildNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.child=function(i){var n=t(i);this.child.update=function(){e.removeChildNodes(this.element),this.element.appendChild(n.apply(this.model))}.bind(this),this.child.update(),n.subscribe(this.child.update)},e.prototype.childnodes=function(i){var n,s=t(i),r=s.apply(this.model);this.childnodes.update=function(){for(e.removeChildNodes(this.element),n=0;n<r.length;n++)this.element.appendChild(r[n])}.bind(this),this.childnodes.update(),s.subscribe(this.childnodes.update)},e.prototype.class=function(e){var i=t(e);this.class.update=function(){this.class.lastClassName&&this.element.classList.remove(this.class.lastClassName),this.class.lastClassName=i.apply(this.model),this.element.classList.add(this.class.lastClassName)}.bind(this),this.class.update(),i.subscribe(this.class.update)},e.prototype.do=function(t){this.do.dataExpression=t,i.apply(this)},e.prototype.id=function(e){var i=t(e);this.id.update=function(){this.element.id=i.apply(this.model)}.bind(this),this.id.update(),i.subscribe(this.id.update)},e.prototype.foreach=function(t){this.foreach.dataExpression=t,i.apply(this)},e.prototype.onclick=function(t){this.element.onclick=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,t.call(this.model)}.bind(this)},e.prototype.text=function(i){var n=t(i);this.text.update=function(){e.removeChildNodes(this.element),this.element.appendChild(document.createTextNode(n.apply(this.model)))}.bind(this),this.text.update(),n.subscribe(this.text.update)},e.prototype.title=function(e){var i=t(e);this.title.update=function(){this.element.title=i.apply(this.model)}.bind(this),this.title.update(),i.subscribe(this.title.update)},e}),i("joga/bindings/HTMLInputElementBinding",["joga/bindings/ElementBinding","joga/computedProperty"],function(t,e){function i(e,i){t.call(this,e,i)}return i.prototype=new t,i.prototype.checked=function(t){var i=e(t);this.checked.update=function(){this.element.checked=i.apply(this.model),this.element.onchange=function(){i.applyWrapped([this.element.checked])}.bind(this)}.bind(this),this.checked.update(),i.subscribe(this.checked.update)},i.prototype.value=function(t){var i=e(t);this.value.update=function(){this.element.value=i.apply(this.model)}.bind(this),this.value.update(),this.element.onchange=function(){i.applyWrapped([this.element.value])}.bind(this),i.subscribe(this.value.update)},i}),i("joga/elementBinder",["joga/bindings/ElementBinding","joga/bindings/HTMLInputElementBinding"],function(t,e){function i(){this.mapping={INPUT:e}}return i.prototype.bind=function(t,e){var i,n,s;for(i=0;i<t.childNodes.length;i++)n=t.childNodes[i],n.binding=this.bind(n,e);t.binding=this.create(t,e);for(s in t.dataset)t.binding[s]=t.binding[s].bind(t.binding),t.binding[s](new Function("return "+t.dataset[s]))},i.prototype.create=function(e,i){var n=t;return e.tagName in this.mapping&&(n=this.mapping[e.tagName]),new n(e,i)},new i}),i("joga/elementProperty",["joga/objectProperty","joga/dependencyTracker","joga/elementBinder"],function(t,e,i){function n(e){function i(t){return i.evaluate(t,this)}return t().mixinTo(i),i.evaluate=s,i.initialize(e),i}function s(t,n){return this.self=n,t?(this.initialValue=t,this.value=null,this.self):(null===this.value&&(e.push(function(){}),this.value=r(this.initialValue),i.bind(this.value,this.self),e.pop()),this.value)}function r(t){var e;return t instanceof Node?t:(e=document.createElement("div"),e.innerHTML=t,e.firstChild)}return n}),i("joga/stringProperty",["joga/objectProperty"],function(t){function e(e){function o(t){return o.evaluate(t,this)}return t().mixinTo(o),o.isBlank=i,o.isNotBlank=n,o.isEmpty=s,o.isNotEmpty=r,o.initialize(e),o}function i(){return null===this.applySelf()||""===this.applySelf().trim()}function n(){return!this.isBlank()}function s(){return null===this.applySelf()||""===this.applySelf()}function r(){return!this.isEmpty()}return e}),i("joga",["joga/arrayProperty","joga/booleanProperty","joga/computedProperty","joga/dependencyTracker","joga/bindings/ElementBinding","joga/bindings/HTMLInputElementBinding","joga/elementProperty","joga/objectProperty","joga/stringProperty"],function(t,e,i,n,s,r,o,u,a){var l={dependencyTracker:n,ElementBinding:s,HTMLInputElementBinding:r,arrayProperty:t,booleanProperty:e,computedProperty:i,elementProperty:o,objectProperty:u,stringProperty:a};return window.joga=l,l}),e(["joga"])}();